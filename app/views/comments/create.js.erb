/* Insert a notice between the last comment and the comment form */
$("#comment-notice_<%=@comment.post.id%>").html('<div class="flash notice"><%= escape_javascript(flash.delete(:notice)) %></div>');

/* Replace the count of comments */
$("#comments_count_<%=@comment.post.id %>").html("<%= pluralize(@comment.post.comments.count, 'Comment') %>");

/* Add the new comment to the bottom of the comments list */
$("#comments_<%=@comment.post.id %>").append("<%= escape_javascript(render :partial => 'posts/comment', :locals => { :comment => @comment }) %>"); //la funcion escape_javascript sirve para mandarle un monton de codigo y que lo inserte sin intentar interpretarlo, en este caso se le envia
                                                                                                                                                   // todo el codigo correspondiente a un comentario

/* Highlight the new comment */
$("#comment_<%=@comment.post.id%>_<%= @comment.id %>").effect("highlight", {}, 3000);

/* Reset the comment form */
/* $("#new_comment")[0].reset(); */